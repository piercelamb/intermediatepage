@(response: io.prismic.Response)(implicit ctx: PrismicHelper.Context)

@main("All documents") {

<form action="@routes.PrismicMain.search()" method="GET">
    <input type="text" name="q" value="">
    <input type="submit" value="Search">
</form>

<hr>

<h2>
    @response.resultsSize match {
    case 0 => { No documents found }
    case 1 => { One document found }
    case n => { Showing @n out of @response.totalResultsSize documents }
    }
</h2>
<section>
<ul>
    @response.results.map { document =>
<li>

    <aside>
        <img src="@document.getImage("article.illustration", "icon").fold("")(_.url)" />
    </aside>

<article>
    <a href="@routes.PrismicMain.detail(document.id, document.slug)">
        @document.getText("article.explicittitle").getOrElse("")
    </a>
    <time>@document.getDate("article.date").fold("")(_.asText("MM-dd-yyyy"))</time>
    <p class="author">@document.getText("article.author").getOrElse("Anonymous")</p>

    <p>@document.getText("article.longlede").getOrElse("")</p>
    </article>
    </li>
    }
</ul>
</section>
@if(response.totalPages > 1) {
<div>
    @if(response.prevPage.isDefined) {
    <a href="@routes.PrismicMain.index(response.page - 1)">Previous</a>
    } else {
    <span>Previous</span>
    }
    @if(response.nextPage.isDefined) {
    <a href="@routes.PrismicMain.index(response.page + 1)">Next</a>
    } else {
    <span>Next</span>
    }
</div>
}
}
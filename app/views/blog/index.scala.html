@(response: io.prismic.Response)(implicit ctx: PrismicHelper.Context)

@main("All documents") {

<form action="@routes.PrismicMain.search()" method="GET">
    <input type="text" name="q" value="">
    <input type="submit" value="Search">
</form>

<hr>

<h2>
    @response.resultsSize match {
    case 0 => { No documents found }
    case 1 => { One document found }
    case n => { Showing @n out of @response.totalResultsSize documents }
    }
</h2>

<ul>
    @response.results.map { document =>


    <div>
        <div></div><time>@document.getDate("article.date").fold("no date found")(_.asText("MM/dd/yyyy"))</time>

            <p>@document.getText("article.author").getOrElse("Anonymous")</p>
    </div>

<div>
        <a href="@routes.PrismicMain.detail(document.id, document.slug)">
            @document.slug
        </a>
    <p>@document.getText("article.longlede").getOrElse("")</p>
    </div>
    </li>
    }
</ul>

@if(response.totalPages > 1) {
<div>
    @if(response.prevPage.isDefined) {
    <a href="@routes.PrismicMain.index(response.page - 1)">Previous</a>
    } else {
    <span>Previous</span>
    }
    @if(response.nextPage.isDefined) {
    <a href="@routes.PrismicMain.index(response.page + 1)">Next</a>
    } else {
    <span>Next</span>
    }
</div>
}
}